{"name":"MAGTSale","code":"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","abi":"{\"name\":\"MAGTSale\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Level\",\"header\":null,\"fields\":[{\"name\":\"tokens\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"LevelInfo\",\"header\":null,\"fields\":[{\"name\":\"level\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"remaining\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"totalSold\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"RefQuery\",\"header\":null,\"fields\":[{\"name\":\"exists\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"ref\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"MAGTSale$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"magtMinter\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"saleJW\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"magtDecimals\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"levels\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"Level\",\"valueFormat\":\"ref\"}},{\"name\":\"currentLevel\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"remainingInLevel\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"totalSoldHuman\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refPoolLeftHuman\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refOf\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"address\"}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"any\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"get_owner\",\"methodId\":80293,\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"get_level\",\"methodId\":80005,\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"LevelInfo\",\"optional\":false}},{\"name\":\"get_ref_pool_left\",\"methodId\":74249,\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"get_referrer\",\"methodId\":103639,\"arguments\":[{\"name\":\"addr\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"RefQuery\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"1242\":{\"message\":\"REF_NOT_SET\"},\"7126\":{\"message\":\"NO_TON\"},\"17803\":{\"message\":\"LEVEL_OOB\"},\"19276\":{\"message\":\"LEVEL_MISSING\"},\"30229\":{\"message\":\"LEVEL_NULL\"},\"37401\":{\"message\":\"ZERO_OUTPUT\"},\"43904\":{\"message\":\"LOW_PAYMENT\"},\"47989\":{\"message\":\"NOT_OWNER\"},\"53246\":{\"message\":\"LEVEL_NULL_2\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\"]}","init":{"kind":"direct","args":[{"name":"owner","type":{"kind":"simple","type":"address","optional":false}},{"name":"magtMinter","type":{"kind":"simple","type":"address","optional":false}},{"name":"saleJW","type":{"kind":"simple","type":"address","optional":false}},{"name":"magtDecimals","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"levelsInit","type":{"kind":"dict","key":"int","value":"Level","valueFormat":"ref"}},{"name":"startLevel","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"startRemaining","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"refPoolHuman","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"MAGTSale.tact":"Ly8gY29udHJhY3RzL01BR1RTYWxlLnRhY3QNCi8vIFRhY3QgMS54DQovLyBPbi1jaGFpbiBzYWxlINC3INGA0ZbQstC90Y/QvNC4INGC0LAgNSUg0YDQtdGE0LXRgNCw0LvQutC+0Y4gKNCyIE1BR1QpINC3INC+0LrRgNC10LzQvtCz0L4g0L/Rg9C70YMuDQovLyDQktC40LTQsNGH0LAgTUFHVCDRltC00LUg0Lcg0L/QvtC/0LXRgNC10LTQvdGM0L4g0L/QvtC/0L7QstC90LXQvdC+0LPQviBKZXR0b25XYWxsZXQg0LrQvtC90YLRgNCw0LrRgtGDINC/0YDQvtC00LDQttGDIChzYWxlSlcpLg0KDQppbXBvcnQgIkBzdGRsaWIvZGVwbG95IjsNCg0KLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0g0KLQuNC/0LggLS0tLS0tLS0tLS0tLS0tLS0tLS0NCnN0cnVjdCBMZXZlbCB7DQogICAgdG9rZW5zOiBJbnQ7ICAvLyDQutGW0LvRjNC60ZbRgdGC0YwgTUFHVCAo0YMgItC70Y7QtNGB0YzQutC40YUiINC+0LTQuNC90LjRhtGP0YUsINCx0LXQtyAxMF5kZWNpbWFscykNCiAgICBwcmljZTogSW50OyAgIC8vINGG0ZbQvdCwINGDIFRPTiDQt9CwIDEgTUFHVCAqIDFlOSAo0L3QsNC90L7RgtC+0L3QuCDQt9CwIDEgTUFHVCkNCn0NCg0Kc3RydWN0IExldmVsSW5mbyB7DQogICAgbGV2ZWw6IEludDsNCiAgICByZW1haW5pbmc6IEludDsNCiAgICB0b3RhbFNvbGQ6IEludDsNCn0NCg0Kc3RydWN0IFJlZlF1ZXJ5IHsNCiAgICBleGlzdHM6IEJvb2w7DQogICAgcmVmOiBBZGRyZXNzPzsgLy8gbnVsbGFibGUg0LTQu9GPINCy0LjQv9Cw0LTQutGDINCx0LXQtyDRgNC10YTQtdGA0LDQu9CwDQp9DQoNCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tINCa0L7QvdGC0YDQsNC60YIgLS0tLS0tLS0tLS0tLS0tLS0tLS0NCmNvbnRyYWN0IE1BR1RTYWxlIHdpdGggRGVwbG95YWJsZSB7DQogICAgZnVuIE9QX0pFVFRPTl9UUkFOU0ZFUigpOiBJbnQgeyByZXR1cm4gMHgwZjhhN2VhNTsgfSAvLyBqZXR0b24gdHJhbnNmZXIgKEpldHRvbiB2MS92MikNCiAgICBmdW4gT1BfQlVZKCk6IEludCB7IHJldHVybiAweGIwYTFjYWZlOyB9ICAgICAgICAgICAgLy8g0L3QsNGIIG9wINC00LvRjyDQv9C+0LrRg9C/0LrQuA0KICAgIGZ1biBPUF9XSVRIRFJBVygpOiBJbnQgeyByZXR1cm4gMHg3Nzc3OyB9ICAgICAgICAgICAvLyDQsNC00LzRltC9LdCy0LjQstGW0LQgVE9ODQoNCiAgICAvLyDQnNGW0L3RltC80LDQu9GM0L3QuNC5INCx0YPRhNC10YAgVE9OINC90LAg0LrQvtC90YLRgNCw0LrRgtGWICjRgdC10YDQstGW0YHQvdGWINCy0LjRgtGA0LDRgtC4KQ0KICAgIGZ1biBHQVNfQlVGRkVSX1RPTigpOiAgIEludCB7IHJldHVybiB0b24oIjAuMDEiKTsgfQ0KDQogICAgLy8g0JPQsNC3INC90LAg0LLQuNC00LDRh9GDIE1BR1QNCiAgICAvLyDQodC60ZbQu9GM0LrQuCBUT04g0YTQvtGA0LLQsNGA0LTQuNC80L4g0L7QtNC10YDQttGD0LLQsNGH0YMgKNC90LAg0LTQtdC/0LvQvtC5L9C90L7RgtGW0YQgSlcpDQogICAgZnVuIEZXRF9UT19SRUNJUElFTlQoKTogSW50IHsgcmV0dXJuIHRvbigiMC4wMyIpOyB9DQogICAgLy8g0KHQutGW0LvRjNC60LggVE9OINC60LvQsNC00LXQvNC+INC90LAg0LLQuNC60LvQuNC6IFNBTEVfSlcgKNGJ0L7QsSDQstGW0L0g0LfQvNGW0LMg0LLRltC00L/RgNCw0LLQuNGC0Lgg0LTQsNC70ZYpDQogICAgZnVuIENBTExfVkFMVUUoKTogICAgICAgSW50IHsgcmV0dXJuIHRvbigiMC4xMCIpOyB9IC8vINC/0ZbQtNC90Y/RgtC+INC00LvRjyDRgdGC0LDQsdGW0LvRjNC90L7RlyDQstGW0LTQv9GA0LDQstC60LggSlcNCg0KICAgIG93bmVyOiBBZGRyZXNzOw0KICAgIG1hZ3RNaW50ZXI6IEFkZHJlc3M7DQogICAgc2FsZUpXOiBBZGRyZXNzOyAgICAgICAgICAvLyBKZXR0b25XYWxsZXQg0YbRjNC+0LPQviDQutC+0L3RgtGA0LDQutGC0YMgKNC00LvRjyBNQUdUKQ0KICAgIG1hZ3REZWNpbWFsczogSW50OyAgICAgICAgLy8g0LfQsNC30LLQuNGH0LDQuSA5DQoNCiAgICBsZXZlbHM6IG1hcDxJbnQsIExldmVsPjsgIC8vIDAuLjE5DQogICAgY3VycmVudExldmVsOiBJbnQ7DQogICAgcmVtYWluaW5nSW5MZXZlbDogSW50Ow0KDQogICAgdG90YWxTb2xkSHVtYW46IEludDsNCiAgICByZWZQb29sTGVmdEh1bWFuOiBJbnQ7DQogICAgcmVmT2Y6IG1hcDxBZGRyZXNzLCBBZGRyZXNzPjsNCg0KICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tIGluaXQgLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBpbml0KA0KICAgICAgICBvd25lcjogQWRkcmVzcywNCiAgICAgICAgbWFndE1pbnRlcjogQWRkcmVzcywNCiAgICAgICAgc2FsZUpXOiBBZGRyZXNzLA0KICAgICAgICBtYWd0RGVjaW1hbHM6IEludCwNCiAgICAgICAgbGV2ZWxzSW5pdDogbWFwPEludCwgTGV2ZWw+LA0KICAgICAgICBzdGFydExldmVsOiBJbnQsDQogICAgICAgIHN0YXJ0UmVtYWluaW5nOiBJbnQsDQogICAgICAgIHJlZlBvb2xIdW1hbjogSW50DQogICAgKSB7DQogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsNCiAgICAgICAgc2VsZi5tYWd0TWludGVyID0gbWFndE1pbnRlcjsNCiAgICAgICAgc2VsZi5zYWxlSlcgPSBzYWxlSlc7DQogICAgICAgIHNlbGYubWFndERlY2ltYWxzID0gbWFndERlY2ltYWxzOw0KDQogICAgICAgIHNlbGYubGV2ZWxzID0gbGV2ZWxzSW5pdDsNCiAgICAgICAgc2VsZi5jdXJyZW50TGV2ZWwgPSBzdGFydExldmVsOw0KICAgICAgICBzZWxmLnJlbWFpbmluZ0luTGV2ZWwgPSBzdGFydFJlbWFpbmluZzsNCg0KICAgICAgICBzZWxmLnRvdGFsU29sZEh1bWFuID0gMDsNCiAgICAgICAgc2VsZi5yZWZQb29sTGVmdEh1bWFuID0gcmVmUG9vbEh1bWFuOw0KICAgICAgICAvLyBzZWxmLnJlZk9mIOKAlCB6ZXJvLXZhbHVlDQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0gZ2V0LdC80LXRgtC+0LTQuCAtLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIGdldCBmdW4gZ2V0X293bmVyKCk6IEFkZHJlc3MgeyByZXR1cm4gc2VsZi5vd25lcjsgfQ0KDQogICAgZ2V0IGZ1biBnZXRfbGV2ZWwoKTogTGV2ZWxJbmZvIHsNCiAgICAgICAgcmV0dXJuIExldmVsSW5mb3sNCiAgICAgICAgICAgIGxldmVsOiBzZWxmLmN1cnJlbnRMZXZlbCwNCiAgICAgICAgICAgIHJlbWFpbmluZzogc2VsZi5yZW1haW5pbmdJbkxldmVsLA0KICAgICAgICAgICAgdG90YWxTb2xkOiBzZWxmLnRvdGFsU29sZEh1bWFuDQogICAgICAgIH07DQogICAgfQ0KDQogICAgZ2V0IGZ1biBnZXRfcmVmX3Bvb2xfbGVmdCgpOiBJbnQgeyByZXR1cm4gc2VsZi5yZWZQb29sTGVmdEh1bWFuOyB9DQoNCiAgICBnZXQgZnVuIGdldF9yZWZlcnJlcihhZGRyOiBBZGRyZXNzKTogUmVmUXVlcnkgew0KICAgICAgICBpZiAoc2VsZi5yZWZPZi5leGlzdHMoYWRkcikpIHsNCiAgICAgICAgICAgIHJldHVybiBSZWZRdWVyeXsgZXhpc3RzOiB0cnVlLCByZWY6IHNlbGYucmVmT2YuZ2V0KGFkZHIpIH07DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gUmVmUXVlcnl7IGV4aXN0czogZmFsc2UsIHJlZjogbnVsbCB9Ow0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0g0JLQvdGD0YLRgNGW0YjQvdGW0Lkg0LLRhdGW0LQgLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICByZWNlaXZlKG1zZzogU2xpY2UpIHsNCiAgICAgICAgbGV0IHNlbmRlcjogQWRkcmVzcyA9IGNvbnRleHQoKS5zZW5kZXI7DQoNCiAgICAgICAgLy8gLS0tIDEpINCQ0LTQvNGW0L0t0LLQuNCy0ZbQtCBUT046IFtPUF9XSVRIRFJBVzp1aW50MzIsIGFtb3VudDpjb2luc10gLS0tDQogICAgICAgIGlmIChtc2cuYml0cygpID49IDMyKSB7DQogICAgICAgICAgICBsZXQgb3BfcHJlID0gbXNnLnByZWxvYWRVaW50KDMyKTsNCiAgICAgICAgICAgIGlmIChvcF9wcmUgPT0gc2VsZi5PUF9XSVRIRFJBVygpKSB7DQogICAgICAgICAgICAgICAgbGV0IF8gPSBtc2cubG9hZFVpbnQoMzIpOw0KICAgICAgICAgICAgICAgIGxldCBhbW91bnQ6IEludCA9IG1zZy5sb2FkQ29pbnMoKTsNCiAgICAgICAgICAgICAgICByZXF1aXJlKHNlbmRlciA9PSBzZWxmLm93bmVyLCAiTk9UX09XTkVSIik7DQogICAgICAgICAgICAgICAgc2VsZi5zZW5kX3Jhd190b24oc2VsZi5vd25lciwgYW1vdW50KTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyAtLS0gMikg0J/QvtC60YPQv9C60LAgKE9QX0JVWSDQsNCx0L4g0L/QvtGA0L7QttC90ZbQuSBib2R5KSAtLS0NCiAgICAgICAgbGV0IGNzOiBTbGljZSA9IG1zZzsNCiAgICAgICAgaWYgKGNzLmJpdHMoKSAhPSAwKSB7DQogICAgICAgICAgICBpZiAoY3MuYml0cygpIDwgMzIpIHsNCiAgICAgICAgICAgICAgICAvLyDQvdC10LfRgNC+0LfRg9C80ZbQu9C40LkgcGF5bG9hZCDigJQg0ZbQs9C90L7RgA0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBvcF9yZWFkOiBJbnQgPSBjcy5sb2FkVWludCgzMik7DQogICAgICAgICAgICBpZiAob3BfcmVhZCAhPSBzZWxmLk9QX0JVWSgpKSB7DQogICAgICAgICAgICAgICAgLy8g0J3QlSDQvdCw0YjQsCDQvtC/0LXRgNCw0YbRltGPICjQvdCw0L/RgNC40LrQu9Cw0LQsINC90L7RgtC40YTRltC60LDRhtGW0Y8g0LLRltC0IEpXKSDigJQg0YLQuNGF0L4g0ZbQs9C90L7RgNGD0ZTQvNC+DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgbGV0IGJ1eWVyOiBBZGRyZXNzID0gc2VuZGVyOw0KICAgICAgICBsZXQgdG9uczogSW50ID0gY29udGV4dCgpLnZhbHVlOw0KICAgICAgICByZXF1aXJlKHRvbnMgPiAwLCAiTk9fVE9OIik7DQoNCiAgICAgICAgLy8g0L7Qv9GG0ZbQudC90LjQuSDRgNC10YTQtdGA0LDQuyAo0YLRltC70YzQutC4INC00LvRjyDQv9C+0LrRg9C/0LrQuCkNCiAgICAgICAgaWYgKGNzLmJpdHMoKSA+PSAxKSB7DQogICAgICAgICAgICBsZXQgaGFzX3JlZjogQm9vbCA9IGNzLmxvYWRCaXQoKTsNCiAgICAgICAgICAgIGlmIChoYXNfcmVmICYmIGNzLmJpdHMoKSA+PSAyNjcpIHsNCiAgICAgICAgICAgICAgICBsZXQgcmVmX2FkZHI6IEFkZHJlc3MgPSBjcy5sb2FkQWRkcmVzcygpOw0KICAgICAgICAgICAgICAgIGlmICghc2VsZi5yZWZPZi5leGlzdHMoYnV5ZXIpICYmIHJlZl9hZGRyICE9IGJ1eWVyKSB7DQogICAgICAgICAgICAgICAgICAgIHNlbGYucmVmT2Yuc2V0KGJ1eWVyLCByZWZfYWRkcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8g0JzRltC90ZbQvNGD0Lwg0LTQu9GPINC/0L7QutGA0LjRgtGC0Y8g0LLQuNC60LvQuNC60ZbQsiBKVyAo0L/QvtC60YPQv9C10YbRjCArINC+0L/Rhi4g0YDQtdGE0LXRgNCw0LspINGC0LAg0LHRg9GE0LXRgA0KICAgICAgICBsZXQgd2lsbFNlbmRSZWY6IEJvb2wgPSBzZWxmLnJlZk9mLmV4aXN0cyhidXllcikgJiYgc2VsZi5yZWZQb29sTGVmdEh1bWFuID4gMDsNCiAgICAgICAgbGV0IGp3Q2FsbHM6IEludCA9IDEgKyAod2lsbFNlbmRSZWYgPyAxIDogMCk7DQogICAgICAgIGxldCBuZWVkRm9ySlc6IEludCA9IGp3Q2FsbHMgKiBzZWxmLkNBTExfVkFMVUUoKTsNCiAgICAgICAgbGV0IG5lZWRNaW46IEludCA9IHNlbGYuR0FTX0JVRkZFUl9UT04oKSArIG5lZWRGb3JKVzsNCiAgICAgICAgcmVxdWlyZSh0b25zID49IG5lZWRNaW4sICJMT1dfUEFZTUVOVCIpOw0KDQogICAgICAgIC8vINCg0L7Qt9GA0LDRhdGD0L3QvtC6INC60ZbQu9GM0LrQvtGB0YLRliBNQUdUINC3INGD0YDQsNGF0YPQstCw0L3QvdGP0Lwg0YDRltCy0L3RltCyDQogICAgICAgIGxldCBwYXltZW50TmFubzogSW50ID0gdG9uczsNCiAgICAgICAgbGV0IHRvQnV5SHVtYW46IEludCA9IHNlbGYuY2FsY19odW1hbl90b2tlbnNfZnJvbV90b24ocGF5bWVudE5hbm8pOw0KICAgICAgICByZXF1aXJlKHRvQnV5SHVtYW4gPiAwLCAiWkVST19PVVRQVVQiKTsNCg0KICAgICAgICAvLyDQntC90L7QstC70Y7RlNC80L4g0YDRltCy0L3Rli/Qu9GW0YfQuNC70YzQvdC40LrQuA0KICAgICAgICBsZXQgcmVtYWluaW5nID0gdG9CdXlIdW1hbjsNCiAgICAgICAgd2hpbGUgKHJlbWFpbmluZyA+IDApIHsNCiAgICAgICAgICAgIGxldCBsdmw6IEludCA9IHNlbGYuY3VycmVudExldmVsOw0KICAgICAgICAgICAgcmVxdWlyZShzZWxmLmxldmVscy5leGlzdHMobHZsKSwgIkxFVkVMX09PQiIpOw0KICAgICAgICAgICAgbGV0IHJfbm93OiBJbnQgPSBzZWxmLnJlbWFpbmluZ0luTGV2ZWw7DQogICAgICAgICAgICBpZiAocmVtYWluaW5nIDw9IHJfbm93KSB7DQogICAgICAgICAgICAgICAgc2VsZi5yZW1haW5pbmdJbkxldmVsID0gcl9ub3cgLSByZW1haW5pbmc7DQogICAgICAgICAgICAgICAgcmVtYWluaW5nID0gMDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmVtYWluaW5nID0gcmVtYWluaW5nIC0gcl9ub3c7DQogICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TGV2ZWwgPSBsdmwgKyAxOw0KICAgICAgICAgICAgICAgIGlmICghc2VsZi5sZXZlbHMuZXhpc3RzKHNlbGYuY3VycmVudExldmVsKSkgew0KICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbWFpbmluZ0luTGV2ZWwgPSAwOw0KICAgICAgICAgICAgICAgICAgICByZW1haW5pbmcgPSAwOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBuZXh0T3B0OiBMZXZlbD8gPSBzZWxmLmxldmVscy5nZXQoc2VsZi5jdXJyZW50TGV2ZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXF1aXJlKG5leHRPcHQgIT0gbnVsbCwgIkxFVkVMX01JU1NJTkciKTsNCiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQ6IExldmVsID0gbmV4dE9wdCEhOw0KICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbWFpbmluZ0luTGV2ZWwgPSBuZXh0LnRva2VuczsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBzZWxmLnRvdGFsU29sZEh1bWFuID0gc2VsZi50b3RhbFNvbGRIdW1hbiArIHRvQnV5SHVtYW47DQoNCiAgICAgICAgLy8g0KDQtdGELdCx0L7QvdGD0YEgNSUg0YMgTUFHVCAo0LcgcmVmUG9vbExlZnRIdW1hbikNCiAgICAgICAgbGV0IGJvbnVzSHVtYW4gPSAwOw0KICAgICAgICBpZiAod2lsbFNlbmRSZWYpIHsNCiAgICAgICAgICAgIGxldCBmaXZlOiBJbnQgPSB0b0J1eUh1bWFuICogNSAvIDEwMDsgLy8gZmxvb3INCiAgICAgICAgICAgIGlmIChmaXZlID4gMCkgew0KICAgICAgICAgICAgICAgIGxldCBncmFudDogSW50ID0gc2VsZi5taW4oc2VsZi5yZWZQb29sTGVmdEh1bWFuLCBmaXZlKTsNCiAgICAgICAgICAgICAgICBib251c0h1bWFuID0gZ3JhbnQ7DQogICAgICAgICAgICAgICAgc2VsZi5yZWZQb29sTGVmdEh1bWFuID0gc2VsZi5yZWZQb29sTGVmdEh1bWFuIC0gZ3JhbnQ7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyDQktC40LTQsNGH0LAgTUFHVDogaHVtYW4gLT4gcmF3DQogICAgICAgIGxldCBiYXNlOiBJbnQgPSBzZWxmLnBvdzEwKHNlbGYubWFndERlY2ltYWxzKTsNCiAgICAgICAgbGV0IGFtb3VudEJ1eWVyUmF3OiBJbnQgPSB0b0J1eUh1bWFuICogYmFzZTsNCiAgICAgICAgbGV0IGFtb3VudFJlZlJhdzogSW50ID0gYm9udXNIdW1hbiAqIGJhc2U7DQoNCiAgICAgICAgLy8gMSkgamV0dG9uIHRyYW5zZmVyINC/0L7QutGD0L/RhtGODQogICAgICAgIHNlbGYuc2VuZF9qZXR0b25fdHJhbnNmZXIoc2VsZi5zYWxlSlcsIGFtb3VudEJ1eWVyUmF3LCBidXllcik7DQoNCiAgICAgICAgLy8gMikgamV0dG9uIHRyYW5zZmVyINGA0LXRhNC10YDQsNC70YMgKNGP0LrRidC+ID4gMCkNCiAgICAgICAgaWYgKGFtb3VudFJlZlJhdyA+IDAgJiYgc2VsZi5yZWZPZi5leGlzdHMoYnV5ZXIpKSB7DQogICAgICAgICAgICBsZXQgcmVmRmluYWxPcHQ6IEFkZHJlc3M/ID0gc2VsZi5yZWZPZi5nZXQoYnV5ZXIpOw0KICAgICAgICAgICAgcmVxdWlyZShyZWZGaW5hbE9wdCAhPSBudWxsLCAiUkVGX05PVF9TRVQiKTsNCiAgICAgICAgICAgIGxldCByZWZfZmluYWw6IEFkZHJlc3MgPSByZWZGaW5hbE9wdCEhOw0KICAgICAgICAgICAgc2VsZi5zZW5kX2pldHRvbl90cmFuc2ZlcihzZWxmLnNhbGVKVywgYW1vdW50UmVmUmF3LCByZWZfZmluYWwpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gMykg0YTQvtGA0LLQsNGA0LQgVE9OIOKGkiBvd25lciAo0LzRltC90YPRgSDQsdGD0YTQtdGAINGC0LAg0LLQuNGC0YDQsNGC0Lgg0L3QsCDQstC40LrQu9C40LrQuCBKVykNCiAgICAgICAgbGV0IHRvT3duZXI6IEludCA9IHNlbGYubWF4KDAsIHBheW1lbnROYW5vIC0gbmVlZE1pbik7DQogICAgICAgIGlmICh0b093bmVyID4gMCkgew0KICAgICAgICAgICAgc2VsZi5zZW5kX3Jhd190b24oc2VsZi5vd25lciwgdG9Pd25lcik7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLSDQlNC+0L/QvtC80ZbQttC90ZYg0YTRg9C90LrRhtGW0ZcgLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICBmdW4gbWluKGE6IEludCwgYjogSW50KTogSW50IHsgaWYgKGEgPCBiKSB7IHJldHVybiBhOyB9IGVsc2UgeyByZXR1cm4gYjsgfSB9DQogICAgZnVuIG1heChhOiBJbnQsIGI6IEludCk6IEludCB7IGlmIChhID4gYikgeyByZXR1cm4gYTsgfSBlbHNlIHsgcmV0dXJuIGI7IH0gfQ0KDQogICAgZnVuIHBvdzEwKGRlY2ltYWxzOiBJbnQpOiBJbnQgew0KICAgICAgICBsZXQgb25lID0gMTsgbGV0IHRlbiA9IDEwOyBsZXQgcmVzX2luaXQgPSBvbmU7IGxldCBpX2luaXQgPSAwOw0KICAgICAgICBsZXQgcmVzID0gcmVzX2luaXQ7IGxldCBpID0gaV9pbml0Ow0KICAgICAgICB3aGlsZSAoaSA8IGRlY2ltYWxzKSB7IHJlcyA9IHJlcyAqIHRlbjsgaSA9IGkgKyAxOyB9DQogICAgICAgIHJldHVybiByZXM7DQogICAgfQ0KDQogICAgLy8gTUFHVF9odW1hbiA9IGZsb29yKHBheW1lbnROYW5vIC8gcHJpY2VOYW5vVG9uUGVyVG9rZW4pINC3INGD0YDQsNGF0YPQstCw0L3QvdGP0Lwg0YDRltCy0L3RltCyDQogICAgZnVuIGNhbGNfaHVtYW5fdG9rZW5zX2Zyb21fdG9uKHBheW1lbnROYW5vOiBJbnQpOiBJbnQgew0KICAgICAgICBsZXQgbGVmdF9pbml0ID0gcGF5bWVudE5hbm87DQogICAgICAgIGxldCBvdXRfaW5pdCA9IDA7DQoNCiAgICAgICAgbGV0IGx2bF9pbml0ID0gc2VsZi5jdXJyZW50TGV2ZWw7DQogICAgICAgIGxldCByZW1faW5pdCA9IHNlbGYucmVtYWluaW5nSW5MZXZlbDsNCg0KICAgICAgICBsZXQgbGVmdE5hbm8gPSBsZWZ0X2luaXQ7DQogICAgICAgIGxldCBvdXRIdW1hbiA9IG91dF9pbml0Ow0KICAgICAgICBsZXQgbHZsID0gbHZsX2luaXQ7DQogICAgICAgIGxldCByZW0gPSByZW1faW5pdDsNCg0KICAgICAgICB3aGlsZSAobGVmdE5hbm8gPiAwICYmIHNlbGYubGV2ZWxzLmV4aXN0cyhsdmwpICYmIHJlbSA+IDApIHsNCiAgICAgICAgICAgIGxldCBMb3B0OiBMZXZlbD8gPSBzZWxmLmxldmVscy5nZXQobHZsKTsNCiAgICAgICAgICAgIHJlcXVpcmUoTG9wdCAhPSBudWxsLCAiTEVWRUxfTlVMTCIpOw0KICAgICAgICAgICAgbGV0IEw6IExldmVsID0gTG9wdCEhOw0KICAgICAgICAgICAgbGV0IHByaWNlTmFubzogSW50ID0gTC5wcmljZTsNCg0KICAgICAgICAgICAgbGV0IG1heUJ1eTogSW50ID0gbGVmdE5hbm8gLyBwcmljZU5hbm87DQoNCiAgICAgICAgICAgIGlmIChtYXlCdXkgPiAwKSB7DQogICAgICAgICAgICAgICAgbGV0IHRha2U6IEludCA9IHNlbGYubWluKHJlbSwgbWF5QnV5KTsNCiAgICAgICAgICAgICAgICBvdXRIdW1hbiA9IG91dEh1bWFuICsgdGFrZTsNCiAgICAgICAgICAgICAgICByZW0gPSByZW0gLSB0YWtlOw0KICAgICAgICAgICAgICAgIGxlZnROYW5vID0gbGVmdE5hbm8gLSAodGFrZSAqIHByaWNlTmFubyk7DQoNCiAgICAgICAgICAgICAgICBpZiAocmVtID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgbHZsID0gbHZsICsgMTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubGV2ZWxzLmV4aXN0cyhsdmwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dE9wdDogTGV2ZWw/ID0gc2VsZi5sZXZlbHMuZ2V0KGx2bCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKG5leHRPcHQgIT0gbnVsbCwgIkxFVkVMX05VTExfMiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQ6IExldmVsID0gbmV4dE9wdCEhOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVtID0gbmV4dC50b2tlbnM7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZW0gPSAwOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZW0gPSAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvdXRIdW1hbjsNCiAgICB9DQoNCiAgICBmdW4gc2VuZF9yYXdfdG9uKHRvOiBBZGRyZXNzLCBhbW91bnROYW5vOiBJbnQpIHsNCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sgdG86IHRvLCB2YWx1ZTogYW1vdW50TmFubywgYm91bmNlOiBmYWxzZSB9KTsNCiAgICB9DQoNCiAgICAvLyDQn9C10YDQtdC60LDQtyBNQUdUINGW0LcgU0FMRV9KVzog0L/RgNCw0LLQuNC70YzQvdC1INGC0ZbQu9C+IEpldHRvbiBUcmFuc2Zlcg0KICAgIC8vIGFtb3VudFJhdzogdWludDEyOCDRgtC+0LrQtdC90ZbQsiAo0Lcg0YPRgNCw0YXRg9Cy0LDQvdC90Y/QvCAxMF5kZWNpbWFscykNCiAgICAvLyBkZXN0aW5hdGlvbjog0LLQu9Cw0YHQvdC40Lot0L/QvtC60YPQv9C10YbRjCAo0J3QlSBKVyEpDQogICAgZnVuIHNlbmRfamV0dG9uX3RyYW5zZmVyKGp3OiBBZGRyZXNzLCBhbW91bnRSYXc6IEludCwgZGVzdGluYXRpb246IEFkZHJlc3MpIHsNCiAgICAgICAgLy8g4pyFIGZvcndhcmRfcGF5bG9hZCA9IFJpZ2h0IF5lbXB0eSAo0LHQsNCz0LDRgtC+IEpXINGG0LUg0LLQuNC80LDQs9Cw0Y7RgtGMKQ0KICAgICAgICAvLyDinIUgcmVzcG9uc2VfZGVzdGluYXRpb24gPSBTQUxFICjQtNC70Y8g0L3QvtGC0LjRhNGW0LrQsNGG0ZbQuSkNCiAgICAgICAgbGV0IGVtcHR5ID0gYmVnaW5DZWxsKCkuZW5kQ2VsbCgpOw0KDQogICAgICAgIGxldCBiID0gYmVnaW5DZWxsKCkNCiAgICAgICAgICAgIC5zdG9yZVVpbnQoc2VsZi5PUF9KRVRUT05fVFJBTlNGRVIoKSwgMzIpICAvLyBvcGNvZGUNCiAgICAgICAgICAgIC5zdG9yZVVpbnQoMCwgNjQpICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBxdWVyeV9pZA0KICAgICAgICAgICAgLnN0b3JlVWludChhbW91bnRSYXcsIDEyOCkgICAgICAgICAgICAgICAgIC8vIGFtb3VudCAodWludDEyOCkNCiAgICAgICAgICAgIC5zdG9yZUFkZHJlc3MoZGVzdGluYXRpb24pICAgICAgICAgICAgICAgICAvLyByZWNpcGllbnQgb3duZXINCiAgICAgICAgICAgIC5zdG9yZUFkZHJlc3MobXlBZGRyZXNzKCkpICAgICAgICAgICAgICAgICAvLyByZXNwb25zZV9kZXN0aW5hdGlvbiA9IFNBTEUNCiAgICAgICAgICAgIC5zdG9yZU1heWJlUmVmKG51bGwpICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXN0b21fcGF5bG9hZCA9IG51bGwNCiAgICAgICAgICAgIC5zdG9yZUNvaW5zKHNlbGYuRldEX1RPX1JFQ0lQSUVOVCgpKSAgICAgICAvLyBmb3J3YXJkX3Rvbl9hbW91bnQNCiAgICAgICAgICAgIC5zdG9yZUJpdCh0cnVlKS5zdG9yZVJlZihlbXB0eSk7ICAgICAgICAgICAvLyBmb3J3YXJkX3BheWxvYWQ6IHJpZ2h0IF5lbXB0eQ0KDQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogancsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU0FMRV9KVw0KICAgICAgICAgICAgdmFsdWU6IHNlbGYuQ0FMTF9WQUxVRSgpLCAgICAgICAgICAgICAgICAgIC8vINC00L7RgdGC0LDRgtC90YzQviDQvdCwINCy0LjQutC+0L3QsNC90L3RjyArINGE0L7RgNCy0LDRgNC0DQogICAgICAgICAgICBib3VuY2U6IHRydWUsDQogICAgICAgICAgICBtb2RlOiAxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUEFZX0dBU19TRVBBUkFURUxZDQogICAgICAgICAgICBib2R5OiBiLmVuZENlbGwoKQ0KICAgICAgICB9KTsNCiAgICB9DQp9DQo="},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"MAGTSale.tact\",\"options\":{\"debug\":true,\"external\":true,\"ipfsAbiGetter\":false,\"interfacesGetter\":false,\"safety\":{\"nullChecks\":true}}}"}}